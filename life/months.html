<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Months</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
    <meta name="theme-color" content="#ffffff">
    <meta name="og:site_name" content="Marcos Minond">
    <meta name="og:title" content="Marcos Minond">
    <meta name="og:description" content="Number of months I probably have left.">
    <meta name="description" content="Number of months I probably have left.">
    <meta name="referrer" content="origin">
    <link rel="stylesheet" href="/css/tachyons.min.css">
    <style>
    html, body {
      background-color: #f7f7f7b8;
    }

    .month {
      display: inline-block;
      border: 1px solid #0074D9;
      opacity: .8;
      margin: 1px;
      height: 20px;
      width: 20px;
    }

    .month.done {
      background-color: #0074D9;
    }

    #container {
      font-size: 0;
    }
    </style>
  </head>
  <body>
    <div class="vh-100 dt w-100 ph5 mt5 mt5-m mt0-l">
      <div class="dtc v-mid">
        <div id="container"></div>
      </div>
    </div>
  </body>
  <script>
  /**
   * @param {Month} month
   * @return {string}
   */
  function monthHtml(month) {
    return '<div class="month ' + (month.done ? 'done' : '') + '"></div>';
  }

  /**
   * @param {Month[][]} years
   * @return {string}
   */
  function view(years) {
    var content = [];

    for (var year = 0, yearsLen = years.length; year < yearsLen; year++) {
      for (var month = 0, monthsLen = years[year].length; month < monthsLen; month++) {
        content.push(monthHtml(years[year][month]));
      }
    }

    return content.join('');
  }

  /**
   * @param {[number, number]} start
   * @param {[number, number]} max
   * @return {Month[][]}
   */
  function life(start, max) {
    var years = [[]];

    var end = [start[0] + max[0], start[1] + max[1]];
    var now = [new Date().getMonth(), new Date().getFullYear()];

    while (start[0] !== end[0] || start[1] !== end[1]) {
      var month = {
        done: false,
      };

      if (start[1] < now[1] || (start[1] === now[1] && start[0] <= now[0])) {
        month.done = true;
      }

      years[years.length - 1].push(month);

      if (++start[0] === 12) {
        start[0] = 0;
        start[1]++;
        years.push([]);
      }
    }

    return years;
  }

  function main() {
    var container = document.getElementById("container");
    var years = life([5, 1989], [1, 90]);
    console.log(years);
    container.innerHTML = view(years);
  }

  main();
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-102424562-1', 'auto');
    ga('send', 'pageview');
  </script>
</html>
